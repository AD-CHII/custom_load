
import sys,json
from tls_client import Session
import io
sys.stdout=io.TextIOWrapper(sys.stdout.buffer,encoding='utf-8')
def j(i,h,p,x):
 s=Session(client_identifier="chrome112",random_tls_extension_order=True)
 try:
  r=s.post(f"https://discord.com/api/v9/invites/{i}",json=p or {},headers=h,proxy=x)
  if r.status_code==200:return{"status":200,"message":"Jonsena Success","data":r.json()}
  elif r.status_code==401:raise ValueError(json.dumps({"status":401,"message":"Invalid user token","data":r.json()}))
  elif r.status_code==404:raise ValueError(json.dumps({"status":404,"message":"invite invalid","data":r.json()}))
  elif r.status_code==400:raise ValueError(json.dumps({"status":400,"message":"captcha token","data":r.json()}))
  else:raise ValueError(json.dumps({"status":r.status_code,"message":"เกิดข้อผิดพลาดที่ไม่ทราบสาเหตุ","data":r.json()}))
 except ValueError as v:
  try:return json.loads(str(v))
  except: return {"status":500,"message":"เกิดข้อผิดพลาดระหว่างการเชื่อมต่อ","error_detail":str(v)}
if __name__=="__main__":
 d=json.loads(sys.stdin.read())
 print(json.dumps(j(d.get("invite_code"),d.get("headers"),d.get("payload"),d.get("proxy")),ensure_ascii=False))
